<!DOCTYPE html>
<html>
<head>
    <title>API Test</title>
</head>
<body>
    <h1>Transit API Test</h1>
    <div id="results"></div>
    
    <script>
        async function testAPI() {
            const results = document.getElementById('results');
            results.innerHTML = '<p>Testing API...</p>';
            
            try {
                // Test health endpoint
                const health = await fetch('https://addis-transit-backend.onrender.com/health');
                const healthData = await health.json();
                results.innerHTML += `<p>Health: ${JSON.stringify(healthData)}</p>`;
                
                // Test routes endpoint
                const routes = await fetch('https://addis-transit-backend.onrender.com/routes');
                const routesData = await routes.json();
                results.innerHTML += `<p>Routes: ${routesData.length} routes found</p>`;
                results.innerHTML += `<p>Route names: ${routesData.map(r => r.name).join(', ')}</p>`;
                
                // Test buses endpoint
                const buses = await fetch('https://addis-transit-backend.onrender.com/buses');
                const busesData = await buses.json();
                results.innerHTML += `<p>Buses: ${busesData.length} buses found</p>`;
                results.innerHTML += `<p>Bus numbers: ${busesData.map(b => b.vehicle_number).join(', ')}</p>`;
                
                results.innerHTML += '<p style="color: green;">✅ All API tests passed!</p>';
                
            } catch (error) {
                results.innerHTML += `<p style="color: red;">❌ Error: ${error.message}</p>`;
            }
        }
        
        // Run test when page loads
        testAPI();
    </script>
</body>
</html>
